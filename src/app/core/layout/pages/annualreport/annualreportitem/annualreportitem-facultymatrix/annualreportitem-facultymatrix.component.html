
<app-navigation-bar></app-navigation-bar>

<div class="antialiased">
  <main class="p-4 md:mx-[35px] h-auto pt-20">
    <!-- Button Container -->
    <div class="flex justify-start mb-4">
      <!-- Button to navigate back to report view -->
      <button (click)="navigateToViewAnnualreport()" class="flex items-center justify-start p-2 text-base font-medium text-gray-900 bg-white rounded-lg shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 group mt-5">
        <img src="../../assets/img/previous.png" alt="back logo" class="w-5 h-5">
        <span class="ml-3 text-lg">Back</span>
      </button>
    </div>

    <!-- First Container -->
    <div class="h-96 mb-4">
      <!-- Start block -->
      <section class="bg-gray-50 antialiased mt-10">
        <div class="mx-auto max-w-screen-2xl">
          <div class="bg-white relative shadow-md sm:rounded-lg">
            <!-- Container for the table -->
            <div class="overflow-x-auto px-4 py-2 border border-gray-300 bg-white rounded-md">
              <div class="flex justify-center items-center mb-4">
                <img src="../../../../../../assets/img/gordon.png" alt="edit logo" class="w-[800px] h-auto">
              </div>

              <!-- Display annual report details -->
              <h2>{{ annualReport.annualreport_title }}</h2>
              <p><strong>Description:</strong> {{ annualReport.description }}</p>

              <!-- Loop through each report selection -->
              <div *ngFor="let selection of reportSelection">
                <div style="margin-bottom: 20px;"> <!-- Add spacing between report sections -->
                  <!-- Display report title and creation date -->
                  <h3>{{ selection.report_title }}</h3>
                  <p><strong>Report Created:</strong> {{ selection.date_created | date }}</p>

                  <!-- Display faculty matrices for this report -->
                  <table class="w-full table-auto">
                    <thead class="bg-orange-500 text-white">
                      <tr>
                        <th class="border border-gray-300 px-3 py-2">Name</th>
                        <th class="border border-gray-300 px-3 py-2">Position</th>
                        <th class="border border-gray-300 px-3 py-2">Tenure</th>
                        <th class="border border-gray-300 px-3 py-2">Status</th>
                        <th class="border border-gray-300 px-3 py-2">Related Certification</th>
                        <th class="border border-gray-300 px-3 py-2">Doctorate Degree</th>
                        <th class="border border-gray-300 px-3 py-2">Masters Degree</th>
                        <th class="border border-gray-300 px-3 py-2">Baccalaureate Degree</th>
                        <th class="border border-gray-300 px-3 py-2">Specialization</th>
                        <th class="border border-gray-300 px-3 py-2">Enrollment Status</th>
                        <th class="border border-gray-300 px-3 py-2">Designation</th>
                        <th class="border border-gray-300 px-3 py-2">Teaching Experience</th>
                        <th class="border border-gray-300 px-3 py-2">Membership Organization</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Loop through faculty matrices associated with this report -->
                      <tr *ngFor="let faculty of getFacultyMatrices(selection.report_id)">
                        <!-- Display faculty details -->
                        <td class="border border-gray-300 px-3 py-2 whitespace-normal sm:whitespace-nowrap">{{ faculty.name }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.position }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.tenure }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.status === 1 ? 'true' : 'false' }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.related_certificate }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.doctorate_degree }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.masters_degree }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.baccalaureate_degree }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.specification }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.enrollment_status }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.designation }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.teaching_experience }}</td>
                        <td class="border border-gray-300 px-3 py-2">{{ faculty.organization_membership }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>
</div>